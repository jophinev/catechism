<!--
  Generated template for the RegisterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>register</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <div class="authContainer">
    <div class="verticalCenter" padding>
      <ion-item *ngIf="errorMessage">
        <span class="error">{{errorMessage}}</span>
      </ion-item>
      <form [formGroup]="authForm" (ngSubmit)="onSubmit(authForm.value)">
        <ion-item [ngClass]="{'error-border':!authForm.controls.parishId.valid}">
          <ion-label floating>Parish Identification Number</ion-label>
          <ion-input formControlName="parishId" type="parishId"></ion-input>
        </ion-item>
        <ion-item *ngIf="authForm.controls.parishId.hasError('required') && authForm.controls.parishId.touched">
          <p>Parish Identification Number is required!</p>
        </ion-item>
        <ion-item *ngIf="authForm.controls.parishId.hasError('minlength') && authForm.controls.parishId.touched">
          <p>Incorrect Parish Identification Number</p>
        </ion-item>
        <ion-item [ngClass]="{'error-border':!authForm.controls.email.valid && authForm.controls.email.touched}">
          <ion-label floating>E-Mail Address</ion-label>
          <ion-input formControlName="email" type="email"></ion-input>
        </ion-item>
        <ion-item *ngIf="authForm.controls.email.hasError('required') && authForm.controls.email.touched">
          <p>E-Mail address required!</p>
        </ion-item>
        <ion-item *ngIf="authForm.controls.email.hasError('pattern') && authForm.controls.email.touched">
          <p>Invalid E-Mail address</p>
        </ion-item>
        <ion-item [ngClass]="{'error-border':(!authForm.controls.password.valid) && authForm.controls.password.touched}">
          <ion-label floating>Password</ion-label>
          <ion-input formControlName="password" type="password"></ion-input>
        </ion-item>
        <ion-item *ngIf="authForm.controls.password.hasError('required') && authForm.controls.password.touched">
          <p>Password is required!</p>
        </ion-item>
        <ion-item *ngIf="authForm.controls.password.hasError('minlength') && authForm.controls.password.touched">
          <p>Minimum password length is 4!</p>
        </ion-item>
        <!-- <ion-item *ngIf="authForm.controls.password.hasError('notUnique') && authForm.controls.password.touched">
          <p>Password and  Confirm Password Not matching!</p>
        </ion-item> -->
        <ion-item [ngClass]="{'error-border':(!authForm.controls.cPassword.valid) && authForm.controls.cPassword.touched}">
          <ion-label floating> Confirm Password</ion-label>
          <ion-input [disabled]="!authForm.controls.password.valid" formControlName="cPassword" type="password"></ion-input>
        </ion-item>
        <ion-item *ngIf="authForm.controls.cPassword.hasError('required') && authForm.controls.cPassword.touched">
          <p>Confirm Password is required!</p>
        </ion-item>
        <ion-item *ngIf="authForm.controls.cPassword.hasError('minlength') && authForm.controls.cPassword.touched">
          <p>Minimum Confirm Password length is 4!</p>
        </ion-item>
        <!-- <ion-item *ngIf="authForm.controls.cPassword.hasError('notUnique') && authForm.controls.cPassword.touched">
          <p>Password and  Confirm Password Not matching!</p>
        </ion-item> -->
        <button ion-button full color="primary" [disabled]="!authForm.valid" style="margin-top: 20px;" type="submit">Submit</button>
      </form><!-- 
      <button (click)="onSubmit({email:'jose.varanam@squintmetrics.com', password:'Sqm12345', parishId:1234})">tempSub</button> -->
    </div>
  </div>
</ion-content>
